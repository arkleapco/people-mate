{% extends 'payslip-report-master.html'%}
{% load staticfiles%}
{% load i18n %}
{% load l10n %}
{% get_current_language as LANGUAGE_CODE %}
{% get_current_language_bidi as LANGUAGE_BIDI %}

{% block payslip_body %}
{% for emp in emp_salary_elements %}
<div class="row" >
    <table class="emp">
        <tr>
            <th colspan="2">PaySlip  {{ salary_obj.get_salary_month_display }}-{{ salary_obj.salary_year }}</th>
        </tr>
        <tr>
            <td>Employee Name</td>
            <td>{{emp.salary_obj.emp}}</td>
        </tr>
        <tr>
            <td>Employee ID</td>
            <td>{{emp.salary_obj.emp.emp_number}}</td>
        </tr>
        <tr>
            <td>Position</td>
            <td>{{emp.jobroll.position}}</td>
        </tr>
        <tr>
            <td>Insurance No.</td>
            <td>{{emp.salary_obj.emp.insurance_number}}</td>
            
        </tr>
        <tr>
            <td>Department</td>
            <td>{{emp.jobroll.position.department}}</td>
        </tr>
        <tr>
            <td>payment methods</td>
            <td>{{emp.payment.payment_method.method_name}}</td>
        </tr>
        <tr>
            <td>Bank Name</td>
            <td>{{emp.payment.bank_name}}</td>
        </tr>
        <tr>
            <td>Bank A/c No</td>
            <td>{{emp.payment.account_number}}</td>
        </tr>
    </table>
</div>    

    <div class="row" >
        <div class="col-6">
            <table class="tg" style={% if LANGUAGE_CODE == 'ar' %} "text-align:right;" {% else %} "text-align:left;" {% endif %}>
                    <tr>
                        <th colspan="2">Earning</th>
                    </tr>
                    <tr>
                        <td>Total Basic Salary</td>
                        <td>{{emp.basic}}</td>
                    </tr>
                    {% for emp in emp.emp_elements_incomes %}
                    <tr>
                            <td>{{ emp.element_id }}</td>
                            <td>{{ emp.element_value}}</td>
                    </tr>        
                    {% endfor %}
            </table>
        </div>
        <div class="col-6">
            <table class="tg" style={% if LANGUAGE_CODE == 'ar' %} "text-align:right;" {% else %} "text-align:left;" {% endif %}>
                <tr>
                    <th colspan="2">Deductions</th>
                </tr>
                <tr>
                    <td>Tax</td>
                    <td>{{emp.salary_obj.tax_amount|floatformat}}</td>
                </tr>
                <tr>
                    <td>Emp. Insurance</td>
                    <td>{{emp.insurance_amount}}</td>
                </tr>
                {% for emp in emp.emp_elements_deductions %}
                    <tr>
                        <td>{{ emp.element_id }}</td>
                        <td>{{ emp.element_value}}</td>
                    </tr>    
                {% endfor %}
            </table>
        </div>
    </div>  

    
    
    
    <div class="row">
            <table class="tg" style="width: 100% !important;{% if LANGUAGE_CODE == 'ar' %} text-align:right;" {% else %} text-align:left;" {% endif %}>
                    <tr>
                        <td>Gross Salary</td>
                        <td>{{emp.gross}}</td>
                        <td>Total Deductions</td>
                        <td>{{emp.emp_total_deductions}}</td>
                    </tr>
            </table>
    </div> 
    
    
    <div class="row">
        <div class="col-4">    
            <table class="tg" style={% if LANGUAGE_CODE == 'ar' %} "text-align:right;" {% else %} "text-align:left;" {% endif %}>
                    <tr>
                        <td>Net Salary to Pay</td>
                    </tr>
            </table>
        </div>
        <div class="col-8">  
            <table class="tg" style={% if LANGUAGE_CODE == 'ar' %} "text-align:right;" {% else %} "text-align:left;" {% endif %}>
                    <tr>
                        <td>{{ emp.salary_obj.net_salary|floatformat }}</td>
                    </tr>
            </table>
        </div>  
    </div>
    <div class="row">
        <div class="col-4">    
            <table class="tg" style={% if LANGUAGE_CODE == 'ar' %} "text-align:right;" {% else %} "text-align:left;" {% endif %}>
                    <tr>
                        <td>Amount in Words</td>
                    </tr>
            </table>
        </div>
        <div class="col-8">  
            <table class="tg" style={% if LANGUAGE_CODE == 'ar' %} "text-align:right;" {% else %} "text-align:left;" {% endif %}>
                    <tr>
                        <td>{{emp.net_in_arabic}} جنيهًا لا غير </td>
                    </tr>
            </table>
        </div>  
    </div>
    <p>----------------------------------------------------------------------------------------------------------------------------------------------</p>
    <p style="page-break-before: always;"></p>
    {% endfor %}
{%endblock payslip_body %}